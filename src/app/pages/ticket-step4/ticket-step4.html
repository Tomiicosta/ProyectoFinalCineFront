<main>
    <section class="ticket-info font-open-sans">
        <h1 class="info"><span class="color">REALIZA</span> TU <span class="color">OPERACIÃ“N</span></h1>
        <h1 class="step">PASO <span class="step-num">4</span></h1>
    </section>

    <section class="ticket-section font-inter">
        <div *ngIf="compraInfo">
            <h3>Resumen de la Compra</h3>
            <p>Producto: {{ compraInfo.nombre }}</p>
            <!--
            <p>Total: {{ compraInfo.precio | currency }}</p>
            -->
            <hr>
            
            <ng-container *ngIf="usuarioLogueado; else mensajeNoLogueado">
                <button 
                    (click)="iniciarPago()" 
                    class="btn btn-primary"
                    [disabled]="!compraInfo.preferenceId">
                    Ir a Pagar
                </button>
                <small class="form-text text-muted">SerÃ¡s redirigido al entorno seguro de Mercado Pago.</small>
            </ng-container>
        
            <ng-template #mensajeNoLogueado>
                <div class="alert alert-warning" role="alert">
                    ðŸš¨ **Debes iniciar sesiÃ³n** para continuar con la compra.
                </div>
                <button (click)="redirigirALogin()" class="btn btn-success">
                    Iniciar SesiÃ³n
                </button>
            </ng-template>
        </div>
    </section>

</main>